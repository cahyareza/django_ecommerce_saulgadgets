Index: saulgadgets_3_8_7/saulgadgets/apps/cart/templates/cart.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% extends \"base.html\" %}\n\n{% block title %} Cart | {% endblock %}\n\n{% block content %}\n    <div id=\"cartapp\">\n        <h1 class=\"title\">Cart</h1>\n\n        {% if cart %}\n            <div class=\"table\">\n                <table class=\"table\">\n                    <thead>\n                    <th>Product</th>\n                    <th>Quantity</th>\n                    <th>Price</th>\n                    <th></th>\n                    </thead>\n\n                    <tbody>\n                        <tr v-for=\"product in products\">\n                            <td>[[ product.title ]]</td>\n                            <td>[[ product.quantity ]] <button @click=\"incrementQuantity(product.id,product.quantity)\">+</button></td>\n                            <td>[[ product.total_price ]]</td>\n                            <td><button @click=\"removeFromCart(product.id)\">Remove from cart</button></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        {% else %}\n            <p>Your cart is empty!</p>\n        {% endif %}\n    </div>\n{% endblock %}\n\n{% block scripts %}\n<script>\n    var cartapp = new Vue({\n        el: '#cartapp',\n        delimiters: ['[[', ']]'],\n        store: store,\n        data () {\n            return {\n                products:[{{ productsstring|safe }}]\n            }\n        },\n        methods: {\n            incrementQuantity(product_id, quantity) {\n                console.log('Product_id', product_id);\n\n                var data = {\n                    'product_id': product_id,\n                    'update': true,\n                    'quantity': parseInt(quantity) +1\n                };\n\n                store.commit('increment', 1);\n\n                fetch('/api/add_to_cart/', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': '{{ csrf_token }}'\n                    },\n                    credentials: 'same-origin',\n                    body: JSON.stringify(data)\n                })\n                .then((response) => {\n                    console.log(response)\n\n                    for (var i = 0; i < this.products.length; i++){\n                        var product = this.products[i];\n\n                        if (product.id === product_id) {\n                            this.products[i].quantity = parseInt(this.products[i].quantity) +1;\n                            this.products[i].total_price = parseInt(this.products[i].quantity) * parseFloat(this.products[i].price)\n                        }\n                    }\n                })\n                .catch(function (error) {\n                    console.log('Error 2');\n                    console.log(Error);\n                })\n            },\n            removeFromCart(product_id) {\n                console.log('Product_id', product_id);\n\n                var data = {\n                    'product_id': product_id,\n                };\n\n                fetch('http://127.0.0.1:8000/api/remove_from_cart/', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': '{{ csrf_token }}'\n                    },\n                    credentials: 'same-origin',\n                    body: JSON.stringify(data)\n                })\n                .then((response) => {\n                    console.log(response)\n\n                    this.products = this.products.filter(product => product.id !== product_id)\n                })\n                .catch(function (error) {\n                    console.log('Error 2');\n                    console.log(Error);\n                })\n            }\n        },\n\n    })\n</script>\n{% endblock %}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- saulgadgets_3_8_7/saulgadgets/apps/cart/templates/cart.html	(revision d8956088eec3ab4d17b5a7a3bb470a2af959f4bf)
+++ saulgadgets_3_8_7/saulgadgets/apps/cart/templates/cart.html	(date 1626707054000)
@@ -53,7 +53,7 @@
                     'quantity': parseInt(quantity) +1
                 };
 
-                store.commit('increment', 1);
+                store.commit('increment', 1);tut
 
                 fetch('/api/add_to_cart/', {
                     method: 'POST',
